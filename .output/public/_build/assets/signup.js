import{a as P,r as m,j as e,L as U,d as B,z as n}from"./client2.js";const v=[{title:"PROJECT & CONSTRUCTION RESOURCES",startAngle:180,endAngle:360,background:"#aed581",segments:[{name:"Land",color:"#F44336",icon:"🗺"},{name:"Machines",color:"#0D47A1",icon:"🏗"},{name:"Material",color:"#29B6F6",icon:"🛠"},{name:"Equipment",color:"#29B6F6",icon:"⚙️"},{name:"Tools",color:"#29B6F6",icon:"🔧"},{name:"Manpower",color:"#29B6F6",icon:"👥"}]},{title:"BUSINESS RESOURCES",startAngle:0,endAngle:120,background:"#ffd180",segments:[{name:"Finance",color:"#9C27B0",icon:"💰"},{name:"Tenders",color:"#FFC107",icon:"📋"},{name:"Showcase",color:"#FF9800",icon:"🎯"},{name:"Auction",color:"#4CAF50",icon:"🔨"}]},{title:"STUDENT RESOURCES",startAngle:120,endAngle:180,background:"#64b5f6",segments:[{name:"Jobs",color:"#009688",icon:"💼"},{name:"E-Stores",color:"#009688",icon:"🛍"}]}];v.flatMap(o=>o.segments.map(a=>({name:a.name,category:o.title,icon:a.icon})));const N=v.map(o=>({title:o.title,resources:o.segments.map(a=>({name:a.name,icon:a.icon}))})),x=n.object({name:n.string().min(2,"Name must be at least 2 characters"),email:n.string().email("Invalid email address").refine(o=>{const a=o.split("@")[1];return a&&a.includes(".")},"Email must have a valid domain (e.g., example.com)").refine(o=>{const a=o.split("@")[1];return a&&a.length>=3},"Email domain must be at least 3 characters"),password:n.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number").regex(/[^A-Za-z0-9]/,"Password must contain at least one special character"),resources:n.array(n.string()).min(1,"Select a resource category"),primaryResource:n.array(n.string()).min(1,"Select a primary resource")}),T=function(){const a=P(),[h,f]=m.useState(1),[r,u]=m.useState({name:"",email:"",password:"",resources:[],primaryResource:[],selectedCategory:""}),[b,p]=m.useState(null),[y,j]=m.useState(!1),[l,w]=m.useState({}),g=s=>{const{name:t,value:d}=s.target;u(c=>({...c,[t]:d}))},S=s=>{u(t=>({...t,selectedCategory:s,resources:[s],primaryResource:[]}))},C=s=>{u(t=>({...t,primaryResource:[s]}))},i=()=>{try{return h===1?n.object({name:x.shape.name,email:x.shape.email,password:x.shape.password}).parse({name:r.name,email:r.email,password:r.password}):x.parse(r),w({}),!0}catch(s){if(s instanceof n.ZodError){const t={};s.errors.forEach(d=>{const c=d.path[0];t[c]||(t[c]=[]),t[c].push(d.message)}),w(t)}return!1}},E=()=>{i()&&f(2)},R=()=>{f(1)},F=async s=>{if(s.preventDefault(),s.stopPropagation(),i()){j(!0),p(null);try{const t=await B({data:r});t.success?a({to:"/login",search:{redirect:void 0}}):p(t.error||"Signup failed")}catch(t){console.error("Signup error:",t),p("An unexpected error occurred")}finally{j(!1)}}},k=()=>e.jsxs("div",{className:"space-y-4 sm:space-y-6 md:space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm sm:text-base md:text-lg font-semibold text-gray-700 mb-1.5 sm:mb-2",children:"Full Name"}),e.jsx("input",{id:"name",name:"name",type:"text",value:r.name,onChange:g,onBlur:i,required:!0,className:"block w-full px-3 sm:px-4 py-2 sm:py-2.5 md:py-3 text-sm sm:text-base border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your full name"}),l.name&&e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:l.name.join(", ")})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm sm:text-base md:text-lg font-semibold text-gray-700 mb-1.5 sm:mb-2",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:g,onBlur:i,required:!0,className:"block w-full px-3 sm:px-4 py-2 sm:py-2.5 md:py-3 text-sm sm:text-base border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email"}),l.email&&e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:l.email.join(", ")})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm sm:text-base md:text-lg font-semibold text-gray-700 mb-1.5 sm:mb-2",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:g,onBlur:i,required:!0,className:"block w-full px-3 sm:px-4 py-2 sm:py-2.5 md:py-3 text-sm sm:text-base border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",placeholder:"Create a secure password"}),e.jsx("div",{className:"mt-2 sm:mt-3 bg-gray-50 p-2.5 sm:p-3 rounded-lg",children:e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Password must contain:"}),e.jsxs("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1.5 sm:gap-2 pl-4 sm:pl-5 mt-1.5 sm:mt-2",children:[e.jsx("li",{className:`list-disc ${/[A-Z]/.test(r.password)?"text-green-600":"text-gray-500"} transition-colors duration-200`,children:"Uppercase letter"}),e.jsx("li",{className:`list-disc ${/[a-z]/.test(r.password)?"text-green-600":"text-gray-500"} transition-colors duration-200`,children:"Lowercase letter"}),e.jsx("li",{className:`list-disc ${/[0-9]/.test(r.password)?"text-green-600":"text-gray-500"} transition-colors duration-200`,children:"Number"}),e.jsx("li",{className:`list-disc ${/[^A-Za-z0-9]/.test(r.password)?"text-green-600":"text-gray-500"} transition-colors duration-200`,children:"Special character"}),e.jsx("li",{className:`list-disc ${r.password.length>=8?"text-green-600":"text-gray-500"} transition-colors duration-200`,children:"8+ characters"})]})]})})]}),e.jsx("div",{className:"pt-2 sm:pt-3",children:e.jsx("button",{type:"button",onClick:E,className:"w-full flex justify-center py-2 sm:py-2.5 md:py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm sm:text-base font-medium text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200",children:"Next Step"})})]}),A=()=>e.jsxs("div",{className:"space-y-4 sm:space-y-6 md:space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"resource_category",className:"block text-sm sm:text-base md:text-lg font-semibold text-gray-700 mb-1.5 sm:mb-2",children:"Select Resource Category"}),e.jsxs("select",{id:"resource_category",name:"selectedCategory",value:r.selectedCategory,onChange:s=>S(s.target.value),required:!0,className:"block w-full px-3 sm:px-4 py-2 sm:py-2.5 md:py-3 text-sm sm:text-base border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"",children:"Select a resource category"}),N.map(s=>e.jsx("option",{value:s.title,children:s.title},s.title))]})]}),r.selectedCategory&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"primary_resource",className:"block text-sm sm:text-base md:text-lg font-semibold text-gray-700 mb-1.5 sm:mb-2",children:"Select Primary Resource"}),e.jsxs("select",{id:"primary_resource",name:"primaryResource",value:r.primaryResource[0]||"",onChange:s=>C(s.target.value),required:!0,className:"block w-full px-3 sm:px-4 py-2 sm:py-2.5 md:py-3 text-sm sm:text-base border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"",children:"Select a primary resource"}),N.find(s=>s.title===r.selectedCategory)?.resources.map(s=>e.jsxs("option",{value:s.name,children:[s.icon," ",s.name]},s.name))]}),l.primaryResource&&e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:l.primaryResource.join(", ")})]}),e.jsxs("div",{className:"flex gap-3 sm:gap-4 pt-2 sm:pt-3",children:[e.jsx("button",{type:"button",onClick:R,className:"flex-1 py-2 sm:py-2.5 md:py-3 px-4 border border-gray-300 rounded-lg shadow-sm text-sm sm:text-base font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200",children:"Previous"}),e.jsx("button",{type:"submit",disabled:y,className:"flex-1 flex justify-center py-2 sm:py-2.5 md:py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm sm:text-base font-medium text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 transition-all duration-200",children:y?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 sm:mr-3 h-4 sm:h-5 w-4 sm:w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"})]})]});return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 via-red-100 to-red-200 p-4 sm:p-6 md:p-8",children:e.jsx("div",{className:"relative z-10 w-full max-w-6xl mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch shadow-2xl rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"w-full lg:w-1/2 xl:w-2/5 bg-white order-2 lg:order-1",children:e.jsxs("div",{className:"px-4 sm:px-6 md:px-8 lg:px-12 py-6 sm:py-8 md:py-12 lg:py-16 h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 sm:gap-6 mb-6 sm:mb-8 md:mb-12",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 order-2 sm:order-1",children:e.jsx("span",{className:"bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent",children:"Sign Up"})}),e.jsx("img",{src:"/upcr-logo.png",alt:"UPC Resources Logo",className:"h-12 sm:h-14 md:h-16 lg:h-20 w-auto order-1 sm:order-2"})]}),b&&e.jsxs("div",{className:"p-3 sm:p-4 mb-4 sm:mb-6 bg-red-50 border-l-4 border-red-500 text-red-700 rounded",children:[e.jsx("p",{className:"font-bold text-sm sm:text-base md:text-lg",children:"Error"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base",children:b})]}),e.jsxs("form",{onSubmit:F,className:"space-y-4 sm:space-y-6 md:space-y-8 flex-1",children:[h===1?k():A(),e.jsx("div",{className:"text-center mt-4 sm:mt-6",children:e.jsxs("p",{className:"text-sm sm:text-base md:text-lg text-gray-600",children:["Already have an account?"," ",e.jsx(U,{to:"/login",search:{redirect:void 0},className:"font-medium text-red-600 hover:text-red-700 transition-colors",children:"Login"})]})})]})]})}),e.jsx("div",{className:"hidden lg:block lg:w-1/2 xl:w-3/5 order-1 lg:order-2",children:e.jsx("img",{src:"https://img.freepik.com/free-vector/sign-concept-illustration_114360-125.jpg",alt:"Sign Up Illustration",className:"w-full h-full object-cover"})})]})})})};export{T as component};
