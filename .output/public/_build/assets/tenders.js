import{c as b,b as N,r as o,j as e,D as y,C as v,g as x}from"./client2.js";import{C as r,B as w,M as C,T as U}from"./TenderForm.js";import"./__vite-browser-external.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],m=b("plus",P),k=function(){const{tenders:l,error:n,user:i,generatedUPC:h}=N.useLoaderData(),[u,c]=o.useState(!1),[t,d]=o.useState(h),g=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(parseFloat(s)),a=()=>{c(!0)},f=()=>{c(!1),x().then(s=>{s.success&&s.upcRef&&d(s.upcRef)})},j=async()=>{try{const s=await x();s.success&&s.upcRef&&d(s.upcRef)}catch(s){console.error("Error generating new UPC:",s)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(r,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tenders"}),e.jsx("p",{className:"text-gray-600",children:"Browse and manage engineering tenders"}),i&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Welcome, ",i.name]})]})]}),e.jsxs("button",{onClick:a,className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:from-blue-700 hover:to-indigo-800 transform hover:scale-105 transition-all duration-200 flex items-center space-x-2",children:[e.jsx(m,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Tender"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:n})})]})}),t&&e.jsx("div",{className:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-600 rounded-full p-2",children:e.jsx(r,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ready to Create Tender"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your unique UPC reference number is ready"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"UPC Reference:"}),e.jsx("p",{className:"text-xl font-mono font-bold text-blue-600",children:t})]}),e.jsx("button",{onClick:j,className:"px-3 py-2 text-sm bg-white border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 transition-colors",children:"Generate New"}),e.jsx("button",{onClick:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Use This UPC"})]})]})}),l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(r,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No tenders found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new tender."}),t&&e.jsxs("p",{className:"mt-2 text-sm text-blue-600 font-medium",children:["Your UPC Reference: ",e.jsx("span",{className:"font-mono",children:t})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:a,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(m,{className:"-ml-1 mr-2 h-5 w-5"}),"Create Tender"]})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-medium text-blue-100 bg-blue-500/20 px-2 py-1 rounded-full",children:s.engineering_category.toUpperCase()}),e.jsx("span",{className:"text-xs font-medium text-white bg-white/20 px-2 py-1 rounded-full",children:s.upc_ref})]}),e.jsx("h3",{className:"text-lg font-bold text-white mt-2 line-clamp-2",children:s.tender_name})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(w,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{className:"font-medium",children:s.specialization})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(C,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:s.location})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(y,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{className:"font-semibold",children:p(s.estimated_value)})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(v,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{children:["Due: ",g(s.submission_date.toString())]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.scope})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details â†’"})]})]})]},s.id))})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsx(U,{onClose:f,prefilledUPC:t})})})]})};export{k as component};
